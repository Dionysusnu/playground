branches:
  only:
    - master

before_install:
  - wget https://raw.githubusercontent.com/creationix/nvm/v0.33.11/nvm.sh -O ~/.nvm/nvm.sh # Node.js
  - source ~/.nvm/nvm.sh
  - nvm install 10

install:
  - npm install webpack

script:
  - git config --global user.email "travis@travis-ci.org"
  - git config --global user.name "Travis CI"
  - npm install roblox-ts@latest
  - npm run build
  - git add -A
  - git diff-index --quiet HEAD || git commit -m "Update roblox-ts";
  - git push https://${GIT_TOKEN}@github.com/roblox-ts/playground.git master
  - npm run deploy
